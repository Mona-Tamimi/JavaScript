<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Example</title>
</head>

<body>
    <!-- API stands for Application Programming Interface 
     A tool that gets or sends data.
     To get or send data between two systems.
        For example:
            A weather app gets live weather data from an API.
            A social media app sends your post to a server using an API.-->

    <h1>API Data</h1>
    <!-- This is where the data will appear -->
    <div id="data-container"></div>

    <script>
        // **************first example*************** 
        // async function f() {
        //     return "Hello World!";
        // }

        // f().then(alert);
        
        // **************second example*************** 
    //     const link = "https://jsonplaceholder.typicode.com/posts";
    //     async function getdata() {
    //         console.log("hi1");
            
    //         const result =  await fetch(link);
    //         console.log("hi2");
    //         if (result.status != 200)
    //         throw "error"
        
    //     const data = await result.json();
    //     console.log(data);
    // }
    // getdata();
    // console.log("hi3");
    // console.log("hi4");



        // **************Third example*************** 
        // Function to fetch and display data
        async function fetchData() {
            try {
                // Step 1: Fetch data from the API
                const response = await fetch('https://api.npoint.io/d0578d2bccc2b28cbf29');
                // console.log(response);
                
                const data = await response.json(); // Convert the response to JSON format
                console.log(data);
                

                // Step 2: Display all data 20
                data.forEach((item, index) => {
                    if (index < 5) { // Limit to the first 5 items
                        const div = document.createElement('div'); // Create a <div>
                        div.innerHTML = `<h2>${item.name}</h2><p>${item.age}</p>`; // Add title and body
                        // document.getElementById('data-container').appendChild(div); // Add <div> to the page
                        document.body.appendChild(div); // Add <div> to the page
                    }
                });

                //  Step 2 (if using slice)
                //   data.slice(0, 5).forEach((item) => {
                //     const div = document.createElement('div');
                //     div.innerHTML = `<h2>${item.title}</h2><p>${item.body}</p>`;
                //     document.getElementById('data-container').appendChild(div);
                //   });

            } catch (error) {
                // If something goes wrong, display an error
                console.error('Error fetching data:', error);
            }
        }

        // Call the function to fetch and display data
        fetchData();
    </script>
</body>

</html>